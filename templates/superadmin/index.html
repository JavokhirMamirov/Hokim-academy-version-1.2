{% extends 'base.html' %}
{% load static %}
{% block sidebar_header %}
    {% include 'superadmin/sidebar.html' %}
{% endblock sidebar_header %}
{% block style %}
    <link href="{% static 'plugins/vectormap/jquery-jvectormap-2.0.2.css' %}" rel="stylesheet"/>
{% endblock style %}
{% block content %}

		<div class="page-wrapper">
			<div class="page-content">
				<div class="row row-cols-1 row-cols-md-2 row-cols-xl-4">
                   <div class="col">
					 <div class="card radius-10 border-start border-0 border-3 border-info">
						<div class="card-body">
							<div class="d-flex align-items-center">
								<div>
									<p class="mb-0 text-secondary">Online o'quvchilar</p>
									<h4 class="my-1 text-info">{{ online_number }}</h4>
								</div>
								<div class="widgets-icons-2 rounded-circle bg-gradient-scooter text-white ms-auto"><i class='bx bx-line-chart'></i>
								</div>
							</div>
						</div>
					 </div>
				   </div>
				   <div class="col">
					<div class="card radius-10 border-start border-0 border-3 border-danger">
					   <div class="card-body">
						   <div class="d-flex align-items-center">
							   <div>
								   <p class="mb-0 text-secondary">Bugungi tashriflar</p>
								   <h4 class="my-1 text-danger">6321</h4>
							   </div>
							   <div class="widgets-icons-2 rounded-circle bg-gradient-bloody text-white ms-auto"><i class='bx bxs-log-in'></i>
							   </div>
						   </div>
					   </div>
					</div>
				  </div>
				  <div class="col">
					<div class="card radius-10 border-start border-0 border-3 border-success">
					   <div class="card-body">
						   <div class="d-flex align-items-center">
							   <div>
								   <p class="mb-0 text-secondary">Umumiy o'quvchilar</p>
								   <h4 class="my-1 text-success">{{ total_students }}</h4>
							   </div>
							   <div class="widgets-icons-2 rounded-circle bg-gradient-ohhappiness text-white ms-auto"><i class='bx bxs-user' ></i>
							   </div>
						   </div>
					   </div>
					</div>
				  </div>
				  <div class="col">
					<div class="card radius-10 border-start border-0 border-3 border-warning">
					   <div class="card-body">
						   <div class="d-flex align-items-center">
							   <div>
								   <p class="mb-0 text-secondary">Maktablar</p>
								   <h4 class="my-1 text-warning">{{ schools }}</h4>
							   </div>
							   <div class="widgets-icons-2 rounded-circle bg-gradient-blooker text-white ms-auto"><i class='bx bxs-group'></i>
							   </div>
						   </div>
					   </div>
					</div>
				  </div>
				</div><!--end row-->

				<div class="row">
                   <div class="col-12 col-lg-8">
                      <div class="card radius-10">
						  <div class="card-body">
							<div class="d-flex align-items-center">
								<div>
									<h6 class="mb-0">Haftalik tashriflar grafigi</h6>
								</div>
{#								<div class="dropdown ms-auto">#}
{#									<a class="dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown"><i class='bx bx-dots-horizontal-rounded font-22 text-option'></i>#}
{#									</a>#}
{#									<ul class="dropdown-menu">#}
{#										<li><a class="dropdown-item" href="javascript:;">Action</a>#}
{#										</li>#}
{#										<li><a class="dropdown-item" href="javascript:;">Another action</a>#}
{#										</li>#}
{#										<li>#}
{#											<hr class="dropdown-divider">#}
{#										</li>#}
{#										<li><a class="dropdown-item" href="javascript:;">Something else here</a>#}
{#										</li>#}
{#									</ul>#}
{#								</div>#}
							</div>
							<div class="d-flex align-items-center ms-auto font-13 gap-2 my-3">
								<span class="border px-1 rounded cursor-pointer"><i class="bx bxs-circle me-1" style="color: #14abef"></i>Tashriflar</span>
{#								<span class="border px-1 rounded cursor-pointer"><i class="bx bxs-circle me-1" style="color: #ffc107"></i>Visits</span>#}
							</div>
							<div class="chart-container-1">
								<canvas id="chart1"></canvas>
							  </div>
						  </div>
{#						  <div class="row row-cols-1 row-cols-md-3 row-cols-xl-3 g-0 row-group text-center border-top">#}
{#							<div class="col">#}
{#							  <div class="p-3">#}
{#								<h5 class="mb-0">24.15M</h5>#}
{#								<small class="mb-0">Prezident maktabiga kiruvchilar <span> <i class="bx bx-up-arrow-alt align-middle"></i> {{ pr }}</span></small>#}
{#							  </div>#}
{#							</div>#}
{#							<div class="col">#}
{#							  <div class="p-3">#}
{#								<h5 class="mb-0">12:38</h5>#}
{#								<small class="mb-0">Abuturiyentlar <span> <i class="bx bx-up-arrow-alt align-middle"></i> {{ ab }}</span></small>#}
{#							  </div>#}
{#							</div>#}
{#							<div class="col">#}
{#							  <div class="p-3">#}
{#								<h5 class="mb-0">639.82</h5>#}
{#								<small class="mb-0">Xorijiy til o'rganuvchilar <span> <i class="bx bx-up-arrow-alt align-middle"></i> {{ xr }}</span></small>#}
{#							  </div>#}
{#							</div>#}
{#						  </div>#}
					  </div>
				   </div>
				   <div class="col-12 col-lg-4">
                       <div class="card radius-10">
						   <div class="card-body">
							<div class="d-flex align-items-center">
								<div>
									<h6 class="mb-0">Foydalanuvchilar</h6>
								</div>
{#								<div class="dropdown ms-auto">#}
{#									<a class="dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown"><i class='bx bx-dots-horizontal-rounded font-22 text-option'></i>#}
{#									</a>#}
{#									<ul class="dropdown-menu">#}
{#										<li><a class="dropdown-item" href="javascript:;">Action</a>#}
{#										</li>#}
{#										<li><a class="dropdown-item" href="javascript:;">Another action</a>#}
{#										</li>#}
{#										<li>#}
{#											<hr class="dropdown-divider">#}
{#										</li>#}
{#										<li><a class="dropdown-item" href="javascript:;">Something else here</a>#}
{#										</li>#}
{#									</ul>#}
{#								</div>#}
							</div>
							<div class="chart-container-2 mt-4">
								<canvas id="chart2"></canvas>
							  </div>
						   </div>
						   <ul class="list-group list-group-flush">
							<li class="list-group-item d-flex bg-transparent justify-content-between align-items-center">Prezident maktabiga kiruvchilar <span class="badge bg-success rounded-pill">{{ pr }}</span>
							</li>
							<li class="list-group-item d-flex bg-transparent justify-content-between align-items-center">Abuturiyentlar <span class="badge bg-danger rounded-pill">{{ ab }}</span>
							</li>
							<li class="list-group-item d-flex bg-transparent justify-content-between align-items-center">Xorijiy til o'rganuvchilar <span class="badge bg-primary rounded-pill">{{ xr }}</span>
							</li>
							<li class="list-group-item d-flex bg-transparent justify-content-between align-items-center">O'qituvchilar <span class="badge bg-warning text-dark rounded-pill">{{ tch }}</span>
							</li>
						</ul>
					   </div>
				   </div>
				</div><!--end row-->

				 <div class="card radius-10">
                         <div class="card-body">
							<div class="d-flex align-items-center">
								<div>
									<h6 class="mb-0">Eng ko'p ko'rilgan kurslar</h6>
								</div>
								<div class="dropdown ms-auto">
									<a class="dropdown-toggle dropdown-toggle-nocaret" href="#" data-bs-toggle="dropdown"><i class='bx bx-dots-horizontal-rounded font-22 text-option'></i>
									</a>
									<ul class="dropdown-menu">
										<li><a class="dropdown-item" href="javascript:;">Action</a>
										</li>
										<li><a class="dropdown-item" href="javascript:;">Another action</a>
										</li>
										<li>
											<hr class="dropdown-divider">
										</li>
										<li><a class="dropdown-item" href="javascript:;">Something else here</a>
										</li>
									</ul>
								</div>
							</div>
						 <div class="table-responsive">
						   <table class="table align-middle mb-0">
							<thead class="table-light">
							 <tr>
							   <th>Kurs</th>
							   <th>Rasm</th>
							   <th>O'qituvchi</th>
							   <th>Status</th>
							   <th></th>
							 </tr>
							 </thead>
							 <tbody>
                             {% for course in courses %}
                             <tr>
							  <td>{{ course.title }}</td>
							  <td><img src="{{ course.image.url }}" class="product-img-2" alt="product img"></td>
							  <td>{{ course.teacher.full_name }}</td>
							  <td><span class="badge bg-gradient-quepal text-white shadow-sm w-100">Top</span></td>
							  <td><div class="progress" style="height: 6px;">
									<div class="progress-bar bg-gradient-quepal" role="progressbar" style="width: 100%"></div>
								  </div></td>
							 </tr>
                             {% endfor %}


						    </tbody>
						  </table>
						  </div>
						 </div>
					</div>

			</div>
		</div>
{% block script %}
    <script src="{% static 'plugins/vectormap/jquery-jvectormap-2.0.2.min.js' %}"></script>
    <script src="{% static 'plugins/vectormap/jquery-jvectormap-world-mill-en.js' %}"></script>
	<script src="{% static 'plugins/chartjs/js/Chart.min.js' %}"></script>
	<script src="{% static 'plugins/chartjs/js/Chart.extension.js' %}"></script>
    <script>
    $(function() {
        "use strict";


// chart 1

        var ctx = document.getElementById("chart1").getContext('2d');

        var gradientStroke1 = ctx.createLinearGradient(0, 0, 0, 300);
        gradientStroke1.addColorStop(0, '#6078ea');
        gradientStroke1.addColorStop(1, '#17c5ea');

        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['13/10/2022', '14/10/2022', '15/10/2022', '16/10/2022', '17/10/2022', '18/10/2022'],
                datasets: [{
                    label: 'Tashriflar',
                    data: [7400, 10221, 11008, 10098, 5864, 13852, 6321],
                    borderColor: gradientStroke1,
                    backgroundColor: gradientStroke1,
                    hoverBackgroundColor: gradientStroke1,
                    pointRadius: 0,
                    fill: false,
                    borderWidth: 0
                }]
            },

            options: {
                maintainAspectRatio: false,
                legend: {
                    position: 'bottom',
                    display: false,
                    labels: {
                        boxWidth: 8
                    }
                },
                tooltips: {
                    displayColors: false,
                },
                scales: {
                    xAxes: [{
                        barPercentage: .5
                    }]
                }
            }
        });


// chart 2

        var ctx = document.getElementById("chart2").getContext('2d');

        var gradientStroke1 = ctx.createLinearGradient(0, 0, 0, 300);
        gradientStroke1.addColorStop(0, '#fc4a1a');
        gradientStroke1.addColorStop(1, '#f7b733');

        var gradientStroke2 = ctx.createLinearGradient(0, 0, 0, 300);
        gradientStroke2.addColorStop(0, '#4776e6');
        gradientStroke2.addColorStop(1, '#8e54e9');


        var gradientStroke3 = ctx.createLinearGradient(0, 0, 0, 300);
        gradientStroke3.addColorStop(0, '#ee0979');
        gradientStroke3.addColorStop(1, '#ff6a00');

        var gradientStroke4 = ctx.createLinearGradient(0, 0, 0, 300);
        gradientStroke4.addColorStop(0, '#42e695');
        gradientStroke4.addColorStop(1, '#3bb2b8');

        var myChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ["Prezident maktabi", "Abuturiyent", "Xorijiy til", "O'qituvchi"],
                datasets: [{
                    backgroundColor: [
                        gradientStroke1,
                        gradientStroke2,
                        gradientStroke3,
                        gradientStroke4
                    ],
                    hoverBackgroundColor: [
                        gradientStroke1,
                        gradientStroke2,
                        gradientStroke3,
                        gradientStroke4
                    ],
                    data: [{{ pr }}, {{ ab }}, {{ xr }}, {{ tch }}],
                    borderWidth: [1, 1, 1, 1]
                }]
            },
            options: {
                maintainAspectRatio: false,
                cutoutPercentage: 75,
                legend: {
                    position: 'bottom',
                    display: false,
                    labels: {
                        boxWidth: 8
                    }
                },
                tooltips: {
                    displayColors: false,
                }
            }
        });


    });
    </script>
{#	<script src="{% static 'js/index.js' %}"></script>#}
{% endblock script %}
{% endblock %}
