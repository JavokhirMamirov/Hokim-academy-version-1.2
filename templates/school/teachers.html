{% extends 'base.html' %}
{% load static %}
{% block sidebar_header %}
    {% include 'school/sidebar.html' %}
{% endblock sidebar_header %}
{% block style %}
    <link href="{% static 'plugins/datatable/css/dataTables.bootstrap5.min.css' %}" rel="stylesheet" />
{% endblock style %}
{% block content %}
		<!--start page wrapper -->
    <div class="page-wrapper">
			<div class="page-content">
				<!--breadcrumb-->
				<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
					<div class="breadcrumb-title pe-3">Teachers</div>
					<div class="ps-3">
						<nav aria-label="breadcrumb">
							<ol class="breadcrumb mb-0 p-0">
								<li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a>
								</li>
								<li class="breadcrumb-item active" aria-current="page">Teachers</li>
							</ol>
						</nav>
					</div>

					<div class="ms-auto">
						<div class="btn-group">
							<a href="{% url 'add-teacher' %}" class="btn btn-primary">Add</a>
						</div>
					</div>
				</div>
				<!--end breadcrumb-->
				<hr/>
				<div class="card">
					<div class="card-body">
						<div class="table-responsive">
							<table id="example2" class="table table-striped table-bordered">
								<thead>
									<tr>
										<th class="text-center">To'liq ism</th>
										<th class="text-center">Telefon</th>
										<th class="text-center">Tugilgan kun</th>
										<th class="text-center">Manzil</th>
										<th class="text-center">Rasm</th>
										<th class="text-center">Fan</th>
										<th class="text-center">Ko'proq</th>
									</tr>
								</thead>
								<tbody>
                                {% for t in teachers %}
									<tr>
										<td class="text-center">{{ t.full_name }}</td>
										<td class="text-center">{{ t.phone }}</td>
										<td class="text-center">{{ t.birth_date|date:'Y-m-d' }}</td>
										<td class="text-center">{{ t.address }}</td>
                                        {% if t.image %}
										<td class="text-center"><img src="{{ t.image.url }}" alt="" width="35"></td>
										{% else %}
										<td class="text-center"><img src="" alt="Rasm kiritilmagan"></td>
                                        {% endif %}
                                        <td class="text-center">{{ t.subject }}</td>
                                        <td class="text-center"><a href="{% url 'teacher-profile' t.id %}" class="btn btn-primary">Detail</a></td>
									</tr>
                                {% endfor %}
								</tbody>
							</table>
						</div>
					</div>
				</div>
            </div>
        </div>
		<!--end page wrapper -->
{% block script %}
    <script src="{% static 'plugins/datatable/js/jquery.dataTables.min.js' %}"></script>
	<script src="{% static 'plugins/datatable/js/dataTables.bootstrap5.min.js' %}"></script>
	<script>
		$(document).ready(function() {
			$('#example').DataTable();
		  } );
	</script>
	<script>
		$(document).ready(function() {
			var table = $('#example2').DataTable( {
				lengthChange: false,
				buttons: [ 'copy', 'excel', 'pdf', 'print']
			} );

			table.buttons().container()
				.appendTo( '#example2_wrapper .col-md-6:eq(0)' );
		} );
	</script>

{% endblock script %}
{% endblock %}
